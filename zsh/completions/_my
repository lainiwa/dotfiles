#compdef my

_arguments \
  '*:: :->subcmds' && return 0

local -a _first_arguments
_first_arguments=(
  'list:Print the list of your mys.'
  'edit:Edit the files in your my.'
  'info:Print detailed information about the my.'
  'fork:Create a fork of the my.'
  'description:Update the description of the my.'
  'files:Print the list of files in a my.'
  'delete:Delete the my from GitHub.'
  'archive:Download the my and create a tarball.'
  'content:Print the contents of the my to stdout.'
  'create:Create a new my.'
  'clone:Clone the my to a local repository.'
)

if (( CURRENT == 1 )); then
  _describe -t commands "my subcommand" _first_arguments
  return
fi

case "$words[1]" in
  (create)
    _arguments \
      '--public[Create a public my.]' \
      '--encrypt[Encrypt the my.]' \
      ':description: :' \
      '*:: :_files'
  ;;
  (content)
    _arguments \
      '--decrypt[Decrypt the my.]'
  ;;
esac
